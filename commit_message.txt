Minor bug fixes and UI improvements.